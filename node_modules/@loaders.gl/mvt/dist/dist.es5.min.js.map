{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/core/dist/esm/lib/common.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/polygon-utils.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/polygon.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/earcut.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/utils.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/lineclip.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/cut-by-grid.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/@math.gl/polygon/dist/esm/cut-by-mercator-bounds.js","webpack:///./src/bundle.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.ts","webpack:///./src/mvt-loader.ts","webpack:///./src/lib/parse-mvt.js","webpack:///./src/lib/mapbox-vector-tile/vector-tile.js","webpack:///./src/lib/mapbox-vector-tile/vector-tile-layer.js","webpack:///./src/lib/mapbox-vector-tile/vector-tile-feature.js","webpack:///./src/lib/binary-vector-tile/vector-tile.js","webpack:///./src/lib/binary-vector-tile/vector-tile-layer.js","webpack:///./src/lib/binary-vector-tile/vector-tile-feature.js","webpack:///./src/lib/binary-vector-tile/features-to-binary.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/pbf/index.js","webpack:////home/user/apps/loaders.gl_duplicate/node_modules/ieee754/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Math","PI","config","isArray","Array","ArrayBuffer","isView","DataView","equals","a","b","epsilon","oldEpsilon","EPSILON","length","Number","isFinite","abs","max","debug","precision","printTypes","printDegrees","printRowMajor","WINDING","CLOCKWISE","COUNTER_CLOCKWISE","modifyPolygonWindingDirection","points","direction","options","getPolygonWindingDirection","start","end","size","numPoints","numSwaps","floor","b1","b2","j","tmp","reversePolygon","sign","getPolygonSignedArea","dim","area","forEachSegmentInPolygon","visitor","isClosed","endPointIndex","modifyPolygonWindingDirectionPoints","getPolygonSignedAreaPoints","getPolygonWindingDirectionPoints","reverse","this","isFlatArray","freeze","getSignedArea","x1","y1","x2","y2","i1","i2","forEachSegmentInPolygonPoints","earcut","data","holeIndices","areas","hasHoles","outerLen","outerNode","linkedList","triangles","next","prev","invSize","maxX","maxY","minX","minY","x","y","queue","len","list","steiner","push","getLeftmost","sort","compareX","eliminateHole","filterPoints","eliminateHoles","earcutLinked","clockwise","last","undefined","insertNode","removeNode","again","ear","pass","z","zOrder","prevZ","nextZ","e","numMerges","pSize","q","qSize","tail","inSize","sortLinked","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","maxZ","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","hx","hy","qx","Infinity","mx","my","tan","tanMin","sectorContainsSector","findHoleBridge","leftmost","ax","ay","bx","by","cx","cy","px","py","intersectsPolygon","inside","middleInside","p1","p2","q1","q2","o1","o2","o3","o4","onSegment","min","num","a2","Node","an","bp","target","source","startIndex","isDuplicate","copy","getPointAtIndex","positions","index","offset","out","startI","clipPolyline","bbox","endIndex","result","codeB","lastCode","part","codeA","bitCode","intersect","clipPolygon","prevInside","edge","snap","code","cutPolylineByGrid","broken","gridResolution","gridOffset","cell","getGridCell","scratchPoint","codeAlt","moveToNeighborCell","concatInPlace","arr1","arr2","cutPolygonByGrid","edgeTypes","pos","types","fill","holes","shift","getBoundingBox","parts","bisectPolygon","polygonLow","polygonHigh","polygon","resultLow","resultHigh","typesLow","typesHigh","side","type","prevSide","prevType","lowPointCount","highPointCount","left","bottom","cutPolylineByMercatorBounds","normalize","newPositions","slice","wrapLongitudesForShortestPath","shiftLongitudesIntoRange","cutPolygonByMercatorBounds","newHoleIndices","srcStartIndex","targetIndex","ringIndex","srcEndIndex","targetStartIndex","splitIndex","findSplitIndex","insertPoleVertices","maxLatitude","pop","maxLat","pointIndex","lat","firstLng","lastLng","round","lng","prevLng","delta","refLng","pointCount","moduleExports","require","_global","window","global","loaders","assign","g","Function","MVTWorkerLoader","id","version","extensions","mimeTypes","worker","category","mvt","coordinates","layerProperty","layers","tileIndex","_format","MVTLoader","parse","arrayBuffer","parseSync","parseMVT","binary","wgs84Coordinates","gis","hasTileIndex","Error","normalizeOptions","format","features","firstPassData","pointPositionsCount","pointFeaturesCount","linePositionsCount","linePathsCount","lineFeaturesCount","polygonPositionsCount","polygonObjectsCount","polygonRingsCount","polygonFeaturesCount","byteLength","tile","BinaryVectorTile","Protobuf","VectorTile","loaderOptions","keys","forEach","layerName","vectorTileLayer","featureOptions","vectorTileFeature","feature","decodedFeature","getDecodedFeatureBinary","getDecodedFeature","featuresToBinary","toGeoJSON","transformToLocalCoordinates","properties","toBinaryCoordinates","transformToLocalCoordinatesBinary","line","extent","il","readTile","tag","pbf","layer","VectorTileLayer","readVarint","readFields","_pbf","_keys","_values","_features","readLayer","VectorTileFeature","readString","readFloat","readDouble","readVarint64","readSVarint","readBoolean","readValueMessage","values","_geometry","readFeature","cmd","lines","cmdLen","transform","coords","loadGeometry","rings","ccw","polygons","signedArea","classifyRings","geometry","_toGeoJSON","pow","x0","y0","atan","exp","ring","sum","readTag","endPos","TEST_EXPORTS","_firstPassData","geom","classified","_toBinaryCoordinates","jl","ringAreas","shape","before","after","concat","fillArrays","numericPropKeys","extractNumericPropKeys","PositionDataType","Float32Array","numericSoFar","val","filter","k","coordLength","GlobalFeatureIdsDataType","Uint32Array","Uint16Array","globalFeatureIds","featureIds","numericProps","pathIndices","polygonIndices","primitivePolygonIndices","propName","indexMap","pointPosition","pointFeature","linePosition","linePath","lineFeature","polygonPosition","polygonObject","polygonRing","polygonFeature","handlePoint","keepStringProperties","handleLineString","handlePolygon","makeAccessorObjects","set","nPositions","fillNumericProperties","ll","startPosition","nextLines","triangulatePolygon","endPosition","polygonPositions","subarray","map","indices","tl","returnObj","geomType","numericProp","numericPropName","numericKeys","props","includes","Pbf","ieee754","buf","Uint8Array","Varint","Fixed64","Bytes","Fixed32","utf8TextDecoder","TextDecoder","readPackedEnd","toNum","low","high","isSigned","makeRoomForExtraLength","startPos","extraLen","log","LN2","realloc","writePackedVarint","arr","writeVarint","writePackedSVarint","writeSVarint","writePackedFloat","writeFloat","writePackedDouble","writeDouble","writePackedBoolean","writeBoolean","writePackedFixed32","writeFixed32","writePackedSFixed32","writeSFixed32","writePackedFixed64","writeFixed64","writePackedSFixed64","writeSFixed64","readUInt32","writeInt32","readInt32","destroy","readField","skip","readMessage","readFixed32","readSFixed32","readFixed64","readSFixed64","read","h","readVarintRemainder","Boolean","decode","readUtf8TextDecoder","str","b3","b0","bytesPerSequence","String","fromCharCode","readUtf8","readBytes","buffer","readPackedVarint","readPackedSVarint","readPackedBoolean","readPackedFloat","readPackedDouble","readPackedFixed32","readPackedSFixed32","readPackedFixed64","readPackedSFixed64","writeTag","finish","writeBigVarintLow","lsb","writeBigVarintHigh","writeBigVarint","writeString","lead","charCodeAt","writeUtf8","write","writeBytes","writeRawMessage","fn","obj","writeMessage","writeBytesField","writeFixed32Field","writeSFixed32Field","writeFixed64Field","writeSFixed64Field","writeVarintField","writeSVarintField","writeStringField","writeFloatField","writeDoubleField","writeBooleanField","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","isNaN"],"mappings":"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","file":"dist.es5.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import assert from './assert';\nconst RADIANS_TO_DEGREES = 1 / Math.PI * 180;\nconst DEGREES_TO_RADIANS = 1 / 180 * Math.PI;\nconst config = {};\nconfig.EPSILON = 1e-12;\nconfig.debug = false;\nconfig.precision = 4;\nconfig.printTypes = false;\nconfig.printDegrees = false;\nconfig.printRowMajor = true;\nexport { config };\nexport function configure(options = {}) {\n  for (const key in options) {\n    assert(key in config);\n    config[key] = options[key];\n  }\n\n  return config;\n}\n\nfunction round(value) {\n  return Math.round(value / config.EPSILON) * config.EPSILON;\n}\n\nexport function formatValue(value, {\n  precision = config.precision || 4\n} = {}) {\n  value = round(value);\n  return \"\".concat(parseFloat(value.toPrecision(precision)));\n}\nexport function isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value) && !(value instanceof DataView);\n}\n\nfunction duplicateArray(array) {\n  return array.clone ? array.clone() : new Array(array.length);\n}\n\nexport function clone(array) {\n  return array.clone ? array.clone() : new Array(...array);\n}\n\nfunction map(value, func, result) {\n  if (isArray(value)) {\n    result = result || duplicateArray(value);\n\n    for (let i = 0; i < result.length && i < value.length; ++i) {\n      result[i] = func(value[i], i, result);\n    }\n\n    return result;\n  }\n\n  return func(value);\n}\n\nexport function toRadians(degrees) {\n  return radians(degrees);\n}\nexport function toDegrees(radians) {\n  return degrees(radians);\n}\nexport function radians(degrees, result) {\n  return map(degrees, degrees => degrees * DEGREES_TO_RADIANS, result);\n}\nexport function degrees(radians, result) {\n  return map(radians, radians => radians * RADIANS_TO_DEGREES, result);\n}\nexport function sin(radians) {\n  return map(radians, angle => Math.sin(angle));\n}\nexport function cos(radians) {\n  return map(radians, angle => Math.cos(angle));\n}\nexport function tan(radians) {\n  return map(radians, angle => Math.tan(angle));\n}\nexport function asin(radians) {\n  return map(radians, angle => Math.asin(angle));\n}\nexport function acos(radians) {\n  return map(radians, angle => Math.acos(angle));\n}\nexport function atan(radians) {\n  return map(radians, angle => Math.atan(angle));\n}\nexport function clamp(value, min, max) {\n  return map(value, value => Math.max(min, Math.min(max, value)));\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map((ai, i) => lerp(ai, b[i], t));\n  }\n\n  return t * b + (1 - t) * a;\n}\nexport function equals(a, b, epsilon) {\n  const oldEpsilon = config.EPSILON;\n\n  if (epsilon) {\n    config.EPSILON = epsilon;\n  }\n\n  try {\n    if (a === b) {\n      return true;\n    }\n\n    if (isArray(a) && isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n\n      for (let i = 0; i < a.length; ++i) {\n        if (!equals(a[i], b[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    if (a && a.equals) {\n      return a.equals(b);\n    }\n\n    if (b && b.equals) {\n      return b.equals(a);\n    }\n\n    if (Number.isFinite(a) && Number.isFinite(b)) {\n      return Math.abs(a - b) <= config.EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n    }\n\n    return false;\n  } finally {\n    config.EPSILON = oldEpsilon;\n  }\n}\nexport function exactEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a && typeof a === 'object' && b && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    if (a.exactEquals) {\n      return a.exactEquals(b);\n    }\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (let i = 0; i < a.length; ++i) {\n      if (!exactEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\nexport function withEpsilon(EPSILON, func) {\n  const oldPrecision = config.EPSILON;\n  config.EPSILON = EPSILON;\n  let value;\n\n  try {\n    value = func();\n  } finally {\n    config.EPSILON = oldPrecision;\n  }\n\n  return value;\n}\n//# sourceMappingURL=common.js.map","import { equals } from '@math.gl/core';\nexport const WINDING = {\n  CLOCKWISE: 1,\n  COUNTER_CLOCKWISE: -1\n};\nexport function modifyPolygonWindingDirection(points, direction, options = {}) {\n  const windingDirection = getPolygonWindingDirection(points, options);\n\n  if (windingDirection !== direction) {\n    reversePolygon(points, options);\n    return true;\n  }\n\n  return false;\n}\nexport function getPolygonWindingDirection(points, options = {}) {\n  return Math.sign(getPolygonSignedArea(points, options));\n}\nexport function getPolygonSignedArea(points, options = {}) {\n  const {\n    start = 0,\n    end = points.length\n  } = options;\n  const dim = options.size || 2;\n  let area = 0;\n\n  for (let i = start, j = end - dim; i < end; i += dim) {\n    area += (points[i] - points[j]) * (points[i + 1] + points[j + 1]);\n    j = i;\n  }\n\n  return area / 2;\n}\nexport function forEachSegmentInPolygon(points, visitor, options = {}) {\n  const {\n    start = 0,\n    end = points.length,\n    size = 2,\n    isClosed\n  } = options;\n  const numPoints = (end - start) / size;\n\n  for (let i = 0; i < numPoints - 1; ++i) {\n    visitor(points[start + i * size], points[start + i * size + 1], points[start + (i + 1) * size], points[start + (i + 1) * size + 1], i, i + 1);\n  }\n\n  const endPointIndex = start + (numPoints - 1) * size;\n  const isClosedEx = isClosed || equals(points[start], points[endPointIndex]) && equals(points[start + 1], points[endPointIndex + 1]);\n\n  if (!isClosedEx) {\n    visitor(points[endPointIndex], points[endPointIndex + 1], points[start], points[start + 1], numPoints - 1, 0);\n  }\n}\n\nfunction reversePolygon(points, options) {\n  const {\n    start = 0,\n    end = points.length,\n    size = 2\n  } = options;\n  const numPoints = (end - start) / size;\n  const numSwaps = Math.floor(numPoints / 2);\n\n  for (let i = 0; i < numSwaps; ++i) {\n    const b1 = start + i * size;\n    const b2 = start + (numPoints - 1 - i) * size;\n\n    for (let j = 0; j < size; ++j) {\n      const tmp = points[b1 + j];\n      points[b1 + j] = points[b2 + j];\n      points[b2 + j] = tmp;\n    }\n  }\n}\n\nexport function modifyPolygonWindingDirectionPoints(points, direction, options = {}) {\n  const currentDirection = getPolygonWindingDirectionPoints(points, options);\n\n  if (currentDirection !== direction) {\n    points.reverse();\n    return true;\n  }\n\n  return false;\n}\nexport function getPolygonWindingDirectionPoints(points, options = {}) {\n  return Math.sign(getPolygonSignedAreaPoints(points, options));\n}\nexport function getPolygonSignedAreaPoints(points, options = {}) {\n  const {\n    start = 0,\n    end = points.length\n  } = options;\n  let area = 0;\n\n  for (let i = start, j = end - 1; i < end; ++i) {\n    area += (points[i][0] - points[j][0]) * (points[i][1] + points[j][1]);\n    j = i;\n  }\n\n  return area / 2;\n}\nexport function forEachSegmentInPolygonPoints(points, visitor, options = {}) {\n  const {\n    start = 0,\n    end = points.length,\n    isClosed\n  } = options;\n\n  for (let i = start; i < end - 1; ++i) {\n    visitor(points[i], points[i + 1], i, i + 1);\n  }\n\n  const isClosedEx = isClosed || equals(points[end - 1], points[0]);\n\n  if (!isClosedEx) {\n    visitor(points[end - 1], points[0], end - 1, 0);\n  }\n}\n//# sourceMappingURL=polygon-utils.js.map","import { isArray } from '@math.gl/core';\nimport { getPolygonSignedArea, forEachSegmentInPolygon, modifyPolygonWindingDirection, getPolygonSignedAreaPoints, forEachSegmentInPolygonPoints, modifyPolygonWindingDirectionPoints } from './polygon-utils';\nexport default class Polygon {\n  constructor(points, options = {}) {\n    this.points = points;\n    this.isFlatArray = !isArray(points[0]);\n    this.options = {\n      start: options.start || 0,\n      end: options.end || points.length,\n      size: options.size || 2,\n      isClosed: options.isClosed\n    };\n    Object.freeze(this);\n  }\n\n  getSignedArea() {\n    if (this.isFlatArray) return getPolygonSignedArea(this.points, this.options);\n    return getPolygonSignedAreaPoints(this.points, this.options);\n  }\n\n  getArea() {\n    return Math.abs(this.getSignedArea());\n  }\n\n  getWindingDirection() {\n    return Math.sign(this.getSignedArea());\n  }\n\n  forEachSegment(visitor) {\n    if (this.isFlatArray) {\n      forEachSegmentInPolygon(this.points, (x1, y1, x2, y2, i1, i2) => {\n        visitor([x1, y1], [x2, y2], i1, i2);\n      }, this.options);\n    } else {\n      forEachSegmentInPolygonPoints(this.points, visitor, this.options);\n    }\n  }\n\n  modifyWindingDirection(direction) {\n    if (this.isFlatArray) {\n      return modifyPolygonWindingDirection(this.points, direction, this.options);\n    }\n\n    return modifyPolygonWindingDirectionPoints(this.points, direction, this.options);\n  }\n\n}\n//# sourceMappingURL=polygon.js.map","import { getPolygonSignedArea } from './polygon-utils';\nexport function earcut(data, holeIndices, dim, areas) {\n  dim = dim || 2;\n  const hasHoles = holeIndices && holeIndices.length;\n  const outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n  let outerNode = linkedList(data, 0, outerLen, dim, true, areas && areas[0]);\n  const triangles = [];\n  if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n  let invSize;\n  let maxX;\n  let maxY;\n  let minX;\n  let minY;\n  let x;\n  let y;\n  if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim, areas);\n\n  if (data.length > 80 * dim) {\n    minX = maxX = data[0];\n    minY = maxY = data[1];\n\n    for (let i = dim; i < outerLen; i += dim) {\n      x = data[i];\n      y = data[i + 1];\n      if (x < minX) minX = x;\n      if (y < minY) minY = y;\n      if (x > maxX) maxX = x;\n      if (y > maxY) maxY = y;\n    }\n\n    invSize = Math.max(maxX - minX, maxY - minY);\n    invSize = invSize !== 0 ? 1 / invSize : 0;\n  }\n\n  earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n  return triangles;\n}\n\nfunction linkedList(data, start, end, dim, clockwise, area) {\n  let i;\n  let last;\n\n  if (area === undefined) {\n    area = getPolygonSignedArea(data, {\n      start,\n      end,\n      size: dim\n    });\n  }\n\n  if (clockwise === area < 0) {\n    for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n  } else {\n    for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n  }\n\n  if (last && equals(last, last.next)) {\n    removeNode(last);\n    last = last.next;\n  }\n\n  return last;\n}\n\nfunction filterPoints(start, end) {\n  if (!start) return start;\n  if (!end) end = start;\n  let p = start;\n  let again;\n\n  do {\n    again = false;\n\n    if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n      removeNode(p);\n      p = end = p.prev;\n      if (p === p.next) break;\n      again = true;\n    } else {\n      p = p.next;\n    }\n  } while (again || p !== end);\n\n  return end;\n}\n\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n  if (!ear) return;\n  if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n  let stop = ear;\n  let prev;\n  let next;\n\n  while (ear.prev !== ear.next) {\n    prev = ear.prev;\n    next = ear.next;\n\n    if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n      triangles.push(prev.i / dim);\n      triangles.push(ear.i / dim);\n      triangles.push(next.i / dim);\n      removeNode(ear);\n      ear = next.next;\n      stop = next.next;\n      continue;\n    }\n\n    ear = next;\n\n    if (ear === stop) {\n      if (!pass) {\n        earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n      } else if (pass === 1) {\n        ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n        earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n      } else if (pass === 2) {\n        splitEarcut(ear, triangles, dim, minX, minY, invSize);\n      }\n\n      break;\n    }\n  }\n}\n\nfunction isEar(ear) {\n  const a = ear.prev;\n  const b = ear;\n  const c = ear.next;\n  if (area(a, b, c) >= 0) return false;\n  let p = ear.next.next;\n\n  while (p !== ear.prev) {\n    if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.next;\n  }\n\n  return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n  const a = ear.prev;\n  const b = ear;\n  const c = ear.next;\n  if (area(a, b, c) >= 0) return false;\n  const minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x;\n  const minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y;\n  const maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x;\n  const maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y;\n  const minZ = zOrder(minTX, minTY, minX, minY, invSize);\n  const maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n  let p = ear.prevZ;\n  let n = ear.nextZ;\n\n  while (p && p.z >= minZ && n && n.z <= maxZ) {\n    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.prevZ;\n    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n    n = n.nextZ;\n  }\n\n  while (p && p.z >= minZ) {\n    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.prevZ;\n  }\n\n  while (n && n.z <= maxZ) {\n    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n    n = n.nextZ;\n  }\n\n  return true;\n}\n\nfunction cureLocalIntersections(start, triangles, dim) {\n  let p = start;\n\n  do {\n    const a = p.prev;\n    const b = p.next.next;\n\n    if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n      triangles.push(a.i / dim);\n      triangles.push(p.i / dim);\n      triangles.push(b.i / dim);\n      removeNode(p);\n      removeNode(p.next);\n      p = start = b;\n    }\n\n    p = p.next;\n  } while (p !== start);\n\n  return filterPoints(p);\n}\n\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n  let a = start;\n\n  do {\n    let b = a.next.next;\n\n    while (b !== a.prev) {\n      if (a.i !== b.i && isValidDiagonal(a, b)) {\n        let c = splitPolygon(a, b);\n        a = filterPoints(a, a.next);\n        c = filterPoints(c, c.next);\n        earcutLinked(a, triangles, dim, minX, minY, invSize);\n        earcutLinked(c, triangles, dim, minX, minY, invSize);\n        return;\n      }\n\n      b = b.next;\n    }\n\n    a = a.next;\n  } while (a !== start);\n}\n\nfunction eliminateHoles(data, holeIndices, outerNode, dim, areas) {\n  const queue = [];\n  let i;\n  let len;\n  let start;\n  let end;\n  let list;\n\n  for (i = 0, len = holeIndices.length; i < len; i++) {\n    start = holeIndices[i] * dim;\n    end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n    list = linkedList(data, start, end, dim, false, areas && areas[i + 1]);\n    if (list === list.next) list.steiner = true;\n    queue.push(getLeftmost(list));\n  }\n\n  queue.sort(compareX);\n\n  for (i = 0; i < queue.length; i++) {\n    eliminateHole(queue[i], outerNode);\n    outerNode = filterPoints(outerNode, outerNode.next);\n  }\n\n  return outerNode;\n}\n\nfunction compareX(a, b) {\n  return a.x - b.x;\n}\n\nfunction eliminateHole(hole, outerNode) {\n  outerNode = findHoleBridge(hole, outerNode);\n\n  if (outerNode) {\n    const b = splitPolygon(outerNode, hole);\n    filterPoints(outerNode, outerNode.next);\n    filterPoints(b, b.next);\n  }\n}\n\nfunction findHoleBridge(hole, outerNode) {\n  let p = outerNode;\n  const hx = hole.x;\n  const hy = hole.y;\n  let qx = -Infinity;\n  let m;\n\n  do {\n    if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n      const x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\n      if (x <= hx && x > qx) {\n        qx = x;\n\n        if (x === hx) {\n          if (hy === p.y) return p;\n          if (hy === p.next.y) return p.next;\n        }\n\n        m = p.x < p.next.x ? p : p.next;\n      }\n    }\n\n    p = p.next;\n  } while (p !== outerNode);\n\n  if (!m) return null;\n  if (hx === qx) return m;\n  const stop = m;\n  const mx = m.x;\n  const my = m.y;\n  let tanMin = Infinity;\n  let tan;\n  p = m;\n\n  do {\n    if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n      tan = Math.abs(hy - p.y) / (hx - p.x);\n\n      if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n        m = p;\n        tanMin = tan;\n      }\n    }\n\n    p = p.next;\n  } while (p !== stop);\n\n  return m;\n}\n\nfunction sectorContainsSector(m, p) {\n  return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\nfunction indexCurve(start, minX, minY, invSize) {\n  let p = start;\n\n  do {\n    if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n    p.prevZ = p.prev;\n    p.nextZ = p.next;\n    p = p.next;\n  } while (p !== start);\n\n  p.prevZ.nextZ = null;\n  p.prevZ = null;\n  sortLinked(p);\n}\n\nfunction sortLinked(list) {\n  let e;\n  let i;\n  let inSize = 1;\n  let numMerges;\n  let p;\n  let pSize;\n  let q;\n  let qSize;\n  let tail;\n\n  do {\n    p = list;\n    list = null;\n    tail = null;\n    numMerges = 0;\n\n    while (p) {\n      numMerges++;\n      q = p;\n      pSize = 0;\n\n      for (i = 0; i < inSize; i++) {\n        pSize++;\n        q = q.nextZ;\n        if (!q) break;\n      }\n\n      qSize = inSize;\n\n      while (pSize > 0 || qSize > 0 && q) {\n        if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n          e = p;\n          p = p.nextZ;\n          pSize--;\n        } else {\n          e = q;\n          q = q.nextZ;\n          qSize--;\n        }\n\n        if (tail) tail.nextZ = e;else list = e;\n        e.prevZ = tail;\n        tail = e;\n      }\n\n      p = q;\n    }\n\n    tail.nextZ = null;\n    inSize *= 2;\n  } while (numMerges > 1);\n\n  return list;\n}\n\nfunction zOrder(x, y, minX, minY, invSize) {\n  x = 32767 * (x - minX) * invSize;\n  y = 32767 * (y - minY) * invSize;\n  x = (x | x << 8) & 0x00ff00ff;\n  x = (x | x << 4) & 0x0f0f0f0f;\n  x = (x | x << 2) & 0x33333333;\n  x = (x | x << 1) & 0x55555555;\n  y = (y | y << 8) & 0x00ff00ff;\n  y = (y | y << 4) & 0x0f0f0f0f;\n  y = (y | y << 2) & 0x33333333;\n  y = (y | y << 1) & 0x55555555;\n  return x | y << 1;\n}\n\nfunction getLeftmost(start) {\n  let p = start;\n  let leftmost = start;\n\n  do {\n    if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n    p = p.next;\n  } while (p !== start);\n\n  return leftmost;\n}\n\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n  return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\nfunction isValidDiagonal(a, b) {\n  return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && (area(a.prev, a, b.prev) || area(a, b.prev, b)) || equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);\n}\n\nfunction area(p, q, r) {\n  return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\nfunction equals(p1, p2) {\n  return p1.x === p2.x && p1.y === p2.y;\n}\n\nfunction intersects(p1, q1, p2, q2) {\n  const o1 = sign(area(p1, q1, p2));\n  const o2 = sign(area(p1, q1, q2));\n  const o3 = sign(area(p2, q2, p1));\n  const o4 = sign(area(p2, q2, q1));\n  if (o1 !== o2 && o3 !== o4) return true;\n  if (o1 === 0 && onSegment(p1, p2, q1)) return true;\n  if (o2 === 0 && onSegment(p1, q2, q1)) return true;\n  if (o3 === 0 && onSegment(p2, p1, q2)) return true;\n  if (o4 === 0 && onSegment(p2, q1, q2)) return true;\n  return false;\n}\n\nfunction onSegment(p, q, r) {\n  return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n  return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\nfunction intersectsPolygon(a, b) {\n  let p = a;\n\n  do {\n    if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n    p = p.next;\n  } while (p !== a);\n\n  return false;\n}\n\nfunction locallyInside(a, b) {\n  return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\nfunction middleInside(a, b) {\n  let p = a;\n  let inside = false;\n  const px = (a.x + b.x) / 2;\n  const py = (a.y + b.y) / 2;\n\n  do {\n    if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n    p = p.next;\n  } while (p !== a);\n\n  return inside;\n}\n\nfunction splitPolygon(a, b) {\n  const a2 = new Node(a.i, a.x, a.y);\n  const b2 = new Node(b.i, b.x, b.y);\n  const an = a.next;\n  const bp = b.prev;\n  a.next = b;\n  b.prev = a;\n  a2.next = an;\n  an.prev = a2;\n  b2.next = a2;\n  a2.prev = b2;\n  bp.next = b2;\n  b2.prev = bp;\n  return b2;\n}\n\nfunction insertNode(i, x, y, last) {\n  const p = new Node(i, x, y);\n\n  if (!last) {\n    p.prev = p;\n    p.next = p;\n  } else {\n    p.next = last.next;\n    p.prev = last;\n    last.next.prev = p;\n    last.next = p;\n  }\n\n  return p;\n}\n\nfunction removeNode(p) {\n  p.next.prev = p.prev;\n  p.prev.next = p.next;\n  if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n  if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n  this.i = i;\n  this.x = x;\n  this.y = y;\n  this.prev = null;\n  this.next = null;\n  this.z = null;\n  this.prevZ = null;\n  this.nextZ = null;\n  this.steiner = false;\n}\n//# sourceMappingURL=earcut.js.map","export function push(target, source) {\n  const size = source.length;\n  const startIndex = target.length;\n\n  if (startIndex > 0) {\n    let isDuplicate = true;\n\n    for (let i = 0; i < size; i++) {\n      if (target[startIndex - size + i] !== source[i]) {\n        isDuplicate = false;\n        break;\n      }\n    }\n\n    if (isDuplicate) {\n      return false;\n    }\n  }\n\n  for (let i = 0; i < size; i++) {\n    target[startIndex + i] = source[i];\n  }\n\n  return true;\n}\nexport function copy(target, source) {\n  const size = source.length;\n\n  for (let i = 0; i < size; i++) {\n    target[i] = source[i];\n  }\n}\nexport function getPointAtIndex(positions, index, size, offset, out = []) {\n  const startI = offset + index * size;\n\n  for (let i = 0; i < size; i++) {\n    out[i] = positions[startI + i];\n  }\n\n  return out;\n}\n//# sourceMappingURL=utils.js.map","import { push, copy, getPointAtIndex } from './utils';\nexport function clipPolyline(positions, bbox, options = {}) {\n  const {\n    size = 2,\n    startIndex = 0,\n    endIndex = positions.length\n  } = options;\n  const numPoints = (endIndex - startIndex) / size;\n  const result = [];\n  let part = [];\n  let a;\n  let b;\n  let codeA = -1;\n  let codeB;\n  let lastCode;\n\n  for (let i = 1; i < numPoints; i++) {\n    a = getPointAtIndex(positions, i - 1, size, startIndex, a);\n    b = getPointAtIndex(positions, i, size, startIndex, b);\n\n    if (codeA < 0) {\n      codeA = bitCode(a, bbox);\n    }\n\n    codeB = lastCode = bitCode(b, bbox);\n\n    while (true) {\n      if (!(codeA | codeB)) {\n        push(part, a);\n\n        if (codeB !== lastCode) {\n          push(part, b);\n\n          if (i < numPoints - 1) {\n            result.push(part);\n            part = [];\n          }\n        } else if (i === numPoints - 1) {\n          push(part, b);\n        }\n\n        break;\n      } else if (codeA & codeB) {\n        break;\n      } else if (codeA) {\n        intersect(a, b, codeA, bbox, a);\n        codeA = bitCode(a, bbox);\n      } else {\n        intersect(a, b, codeB, bbox, b);\n        codeB = bitCode(b, bbox);\n      }\n    }\n\n    codeA = lastCode;\n  }\n\n  if (part.length) result.push(part);\n  return result;\n}\nexport function clipPolygon(positions, bbox, options = {}) {\n  const {\n    size = 2,\n    endIndex = positions.length\n  } = options;\n  let {\n    startIndex = 0\n  } = options;\n  let numPoints = (endIndex - startIndex) / size;\n  let result;\n  let p;\n  let prev;\n  let inside;\n  let prevInside;\n\n  for (let edge = 1; edge <= 8; edge *= 2) {\n    result = [];\n    prev = getPointAtIndex(positions, numPoints - 1, size, startIndex, prev);\n    prevInside = !(bitCode(prev, bbox) & edge);\n\n    for (let i = 0; i < numPoints; i++) {\n      p = getPointAtIndex(positions, i, size, startIndex, p);\n      inside = !(bitCode(p, bbox) & edge);\n      if (inside !== prevInside) push(result, intersect(prev, p, edge, bbox));\n      if (inside) push(result, p);\n      copy(prev, p);\n      prevInside = inside;\n    }\n\n    positions = result;\n    startIndex = 0;\n    numPoints = result.length / size;\n    if (!numPoints) break;\n  }\n\n  return result;\n}\nexport function intersect(a, b, edge, bbox, out = []) {\n  let t;\n  let snap;\n\n  if (edge & 8) {\n    t = (bbox[3] - a[1]) / (b[1] - a[1]);\n    snap = 3;\n  } else if (edge & 4) {\n    t = (bbox[1] - a[1]) / (b[1] - a[1]);\n    snap = 1;\n  } else if (edge & 2) {\n    t = (bbox[2] - a[0]) / (b[0] - a[0]);\n    snap = 2;\n  } else if (edge & 1) {\n    t = (bbox[0] - a[0]) / (b[0] - a[0]);\n    snap = 0;\n  } else {\n    return null;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    out[i] = (snap & 1) === i ? bbox[snap] : t * (b[i] - a[i]) + a[i];\n  }\n\n  return out;\n}\nexport function bitCode(p, bbox) {\n  let code = 0;\n  if (p[0] < bbox[0]) code |= 1;else if (p[0] > bbox[2]) code |= 2;\n  if (p[1] < bbox[1]) code |= 4;else if (p[1] > bbox[3]) code |= 8;\n  return code;\n}\n//# sourceMappingURL=lineclip.js.map","import { bitCode, intersect } from './lineclip';\nimport { getPointAtIndex, copy, push } from './utils';\nexport function cutPolylineByGrid(positions, options = {}) {\n  const {\n    size = 2,\n    broken = false,\n    gridResolution = 10,\n    gridOffset = [0, 0],\n    startIndex = 0,\n    endIndex = positions.length\n  } = options;\n  const numPoints = (endIndex - startIndex) / size;\n  let part = [];\n  const result = [part];\n  const a = getPointAtIndex(positions, 0, size, startIndex);\n  let b;\n  let codeB;\n  const cell = getGridCell(a, gridResolution, gridOffset, []);\n  const scratchPoint = [];\n  push(part, a);\n\n  for (let i = 1; i < numPoints; i++) {\n    b = getPointAtIndex(positions, i, size, startIndex, b);\n    codeB = bitCode(b, cell);\n\n    while (codeB) {\n      intersect(a, b, codeB, cell, scratchPoint);\n      const codeAlt = bitCode(scratchPoint, cell);\n\n      if (codeAlt) {\n        intersect(a, scratchPoint, codeAlt, cell, scratchPoint);\n        codeB = codeAlt;\n      }\n\n      push(part, scratchPoint);\n      copy(a, scratchPoint);\n      moveToNeighborCell(cell, gridResolution, codeB);\n\n      if (broken && part.length > size) {\n        part = [];\n        result.push(part);\n        push(part, a);\n      }\n\n      codeB = bitCode(b, cell);\n    }\n\n    push(part, b);\n    copy(a, b);\n  }\n\n  return broken ? result : result[0];\n}\nconst TYPE_INSIDE = 0;\nconst TYPE_BORDER = 1;\n\nfunction concatInPlace(arr1, arr2) {\n  for (let i = 0; i < arr2.length; i++) {\n    arr1.push(arr2[i]);\n  }\n\n  return arr1;\n}\n\nexport function cutPolygonByGrid(positions, holeIndices, options = {}) {\n  if (!positions.length) {\n    return [];\n  }\n\n  const {\n    size = 2,\n    gridResolution = 10,\n    gridOffset = [0, 0],\n    edgeTypes = false\n  } = options;\n  const result = [];\n  const queue = [{\n    pos: positions,\n    types: edgeTypes && new Array(positions.length / size).fill(TYPE_BORDER),\n    holes: holeIndices || []\n  }];\n  const bbox = [[], []];\n  let cell = [];\n\n  while (queue.length) {\n    const {\n      pos,\n      types,\n      holes\n    } = queue.shift();\n    getBoundingBox(pos, size, holes[0] || pos.length, bbox);\n    cell = getGridCell(bbox[0], gridResolution, gridOffset, cell);\n    const code = bitCode(bbox[1], cell);\n\n    if (code) {\n      let parts = bisectPolygon(pos, types, size, 0, holes[0] || pos.length, cell, code);\n      const polygonLow = {\n        pos: parts[0].pos,\n        types: parts[0].types,\n        holes: []\n      };\n      const polygonHigh = {\n        pos: parts[1].pos,\n        types: parts[1].types,\n        holes: []\n      };\n      queue.push(polygonLow, polygonHigh);\n\n      for (let i = 0; i < holes.length; i++) {\n        parts = bisectPolygon(pos, types, size, holes[i], holes[i + 1] || pos.length, cell, code);\n\n        if (parts[0]) {\n          polygonLow.holes.push(polygonLow.pos.length);\n          polygonLow.pos = concatInPlace(polygonLow.pos, parts[0].pos);\n\n          if (edgeTypes) {\n            polygonLow.types = concatInPlace(polygonLow.types, parts[0].types);\n          }\n        }\n\n        if (parts[1]) {\n          polygonHigh.holes.push(polygonHigh.pos.length);\n          polygonHigh.pos = concatInPlace(polygonHigh.pos, parts[1].pos);\n\n          if (edgeTypes) {\n            polygonHigh.types = concatInPlace(polygonHigh.types, parts[1].types);\n          }\n        }\n      }\n    } else {\n      const polygon = {\n        positions: pos\n      };\n\n      if (edgeTypes) {\n        polygon.edgeTypes = types;\n      }\n\n      if (holes.length) {\n        polygon.holeIndices = holes;\n      }\n\n      result.push(polygon);\n    }\n  }\n\n  return result;\n}\n\nfunction bisectPolygon(positions, edgeTypes, size, startIndex, endIndex, bbox, edge) {\n  const numPoints = (endIndex - startIndex) / size;\n  const resultLow = [];\n  const resultHigh = [];\n  const typesLow = [];\n  const typesHigh = [];\n  const scratchPoint = [];\n  let p;\n  let side;\n  let type;\n  const prev = getPointAtIndex(positions, numPoints - 1, size, startIndex);\n  let prevSide = Math.sign(edge & 8 ? prev[1] - bbox[3] : prev[0] - bbox[2]);\n  let prevType = edgeTypes && edgeTypes[numPoints - 1];\n  let lowPointCount = 0;\n  let highPointCount = 0;\n\n  for (let i = 0; i < numPoints; i++) {\n    p = getPointAtIndex(positions, i, size, startIndex, p);\n    side = Math.sign(edge & 8 ? p[1] - bbox[3] : p[0] - bbox[2]);\n    type = edgeTypes && edgeTypes[startIndex / size + i];\n\n    if (side && prevSide && prevSide !== side) {\n      intersect(prev, p, edge, bbox, scratchPoint);\n      push(resultLow, scratchPoint) && typesLow.push(prevType);\n      push(resultHigh, scratchPoint) && typesHigh.push(prevType);\n    }\n\n    if (side <= 0) {\n      push(resultLow, p) && typesLow.push(type);\n      lowPointCount -= side;\n    } else if (typesLow.length) {\n      typesLow[typesLow.length - 1] = TYPE_INSIDE;\n    }\n\n    if (side >= 0) {\n      push(resultHigh, p) && typesHigh.push(type);\n      highPointCount += side;\n    } else if (typesHigh.length) {\n      typesHigh[typesHigh.length - 1] = TYPE_INSIDE;\n    }\n\n    copy(prev, p);\n    prevSide = side;\n    prevType = type;\n  }\n\n  return [lowPointCount ? {\n    pos: resultLow,\n    types: edgeTypes && typesLow\n  } : null, highPointCount ? {\n    pos: resultHigh,\n    types: edgeTypes && typesHigh\n  } : null];\n}\n\nfunction getGridCell(p, gridResolution, gridOffset, out) {\n  const left = Math.floor((p[0] - gridOffset[0]) / gridResolution) * gridResolution + gridOffset[0];\n  const bottom = Math.floor((p[1] - gridOffset[1]) / gridResolution) * gridResolution + gridOffset[1];\n  out[0] = left;\n  out[1] = bottom;\n  out[2] = left + gridResolution;\n  out[3] = bottom + gridResolution;\n  return out;\n}\n\nfunction moveToNeighborCell(cell, gridResolution, edge) {\n  if (edge & 8) {\n    cell[1] += gridResolution;\n    cell[3] += gridResolution;\n  } else if (edge & 4) {\n    cell[1] -= gridResolution;\n    cell[3] -= gridResolution;\n  } else if (edge & 2) {\n    cell[0] += gridResolution;\n    cell[2] += gridResolution;\n  } else if (edge & 1) {\n    cell[0] -= gridResolution;\n    cell[2] -= gridResolution;\n  }\n}\n\nfunction getBoundingBox(positions, size, endIndex, out) {\n  let minX = Infinity;\n  let maxX = -Infinity;\n  let minY = Infinity;\n  let maxY = -Infinity;\n\n  for (let i = 0; i < endIndex; i += size) {\n    const x = positions[i];\n    const y = positions[i + 1];\n    minX = x < minX ? x : minX;\n    maxX = x > maxX ? x : maxX;\n    minY = y < minY ? y : minY;\n    maxY = y > maxY ? y : maxY;\n  }\n\n  out[0][0] = minX;\n  out[0][1] = minY;\n  out[1][0] = maxX;\n  out[1][1] = maxY;\n  return out;\n}\n//# sourceMappingURL=cut-by-grid.js.map","import { cutPolylineByGrid, cutPolygonByGrid } from './cut-by-grid';\nimport { getPointAtIndex, push } from './utils';\nconst DEFAULT_MAX_LATITUDE = 85.051129;\nexport function cutPolylineByMercatorBounds(positions, options = {}) {\n  const {\n    size = 2,\n    startIndex = 0,\n    endIndex = positions.length,\n    normalize = true\n  } = options;\n  const newPositions = positions.slice(startIndex, endIndex);\n  wrapLongitudesForShortestPath(newPositions, size, 0, endIndex - startIndex);\n  const parts = cutPolylineByGrid(newPositions, {\n    size,\n    broken: true,\n    gridResolution: 360,\n    gridOffset: [-180, -180]\n  });\n\n  if (normalize) {\n    for (const part of parts) {\n      shiftLongitudesIntoRange(part, size);\n    }\n  }\n\n  return parts;\n}\nexport function cutPolygonByMercatorBounds(positions, holeIndices, options = {}) {\n  const {\n    size = 2,\n    normalize = true,\n    edgeTypes = false\n  } = options;\n  holeIndices = holeIndices || [];\n  const newPositions = [];\n  const newHoleIndices = [];\n  let srcStartIndex = 0;\n  let targetIndex = 0;\n\n  for (let ringIndex = 0; ringIndex <= holeIndices.length; ringIndex++) {\n    const srcEndIndex = holeIndices[ringIndex] || positions.length;\n    const targetStartIndex = targetIndex;\n    const splitIndex = findSplitIndex(positions, size, srcStartIndex, srcEndIndex);\n\n    for (let i = splitIndex; i < srcEndIndex; i++) {\n      newPositions[targetIndex++] = positions[i];\n    }\n\n    for (let i = srcStartIndex; i < splitIndex; i++) {\n      newPositions[targetIndex++] = positions[i];\n    }\n\n    wrapLongitudesForShortestPath(newPositions, size, targetStartIndex, targetIndex);\n    insertPoleVertices(newPositions, size, targetStartIndex, targetIndex, options.maxLatitude);\n    srcStartIndex = srcEndIndex;\n    newHoleIndices[ringIndex] = targetIndex;\n  }\n\n  newHoleIndices.pop();\n  const parts = cutPolygonByGrid(newPositions, newHoleIndices, {\n    size,\n    gridResolution: 360,\n    gridOffset: [-180, -180],\n    edgeTypes\n  });\n\n  if (normalize) {\n    for (const part of parts) {\n      shiftLongitudesIntoRange(part.positions, size);\n    }\n  }\n\n  return parts;\n}\n\nfunction findSplitIndex(positions, size, startIndex, endIndex) {\n  let maxLat = -1;\n  let pointIndex = -1;\n\n  for (let i = startIndex + 1; i < endIndex; i += size) {\n    const lat = Math.abs(positions[i]);\n\n    if (lat > maxLat) {\n      maxLat = lat;\n      pointIndex = i - 1;\n    }\n  }\n\n  return pointIndex;\n}\n\nfunction insertPoleVertices(positions, size, startIndex, endIndex, maxLatitude = DEFAULT_MAX_LATITUDE) {\n  const firstLng = positions[startIndex];\n  const lastLng = positions[endIndex - size];\n\n  if (Math.abs(firstLng - lastLng) > 180) {\n    const p = getPointAtIndex(positions, 0, size, startIndex);\n    p[0] += Math.round((lastLng - firstLng) / 360) * 360;\n    push(positions, p);\n    p[1] = Math.sign(p[1]) * maxLatitude;\n    push(positions, p);\n    p[0] = firstLng;\n    push(positions, p);\n  }\n}\n\nfunction wrapLongitudesForShortestPath(positions, size, startIndex, endIndex) {\n  let prevLng = positions[0];\n  let lng;\n\n  for (let i = startIndex; i < endIndex; i += size) {\n    lng = positions[i];\n    const delta = lng - prevLng;\n\n    if (delta > 180 || delta < -180) {\n      lng -= Math.round(delta / 360) * 360;\n    }\n\n    positions[i] = prevLng = lng;\n  }\n}\n\nfunction shiftLongitudesIntoRange(positions, size) {\n  let refLng;\n  const pointCount = positions.length / size;\n\n  for (let i = 0; i < pointCount; i++) {\n    refLng = positions[i * size];\n\n    if ((refLng + 180) % 360 !== 0) {\n      break;\n    }\n  }\n\n  const delta = -Math.round(refLng / 360) * 360;\n\n  if (delta === 0) {\n    return;\n  }\n\n  for (let i = 0; i < pointCount; i++) {\n    positions[i * size] += delta;\n  }\n}\n//# sourceMappingURL=cut-by-mercator-bounds.js.map","// @ts-nocheck\nconst moduleExports = require('./index');\nconst _global = typeof window === 'undefined' ? global : window;\n_global.loaders = _global.loaders || {};\nmodule.exports = Object.assign(_global.loaders, moduleExports);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export {MVTLoader, MVTWorkerLoader} from './mvt-loader';\n","import type {Loader, LoaderWithParser} from '@loaders.gl/loader-utils';\nimport parseMVT from './lib/parse-mvt';\n\n// __VERSION__ is injected by babel-plugin-version-inline\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nconst VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'latest';\n\n/**\n * Worker loader for the Mapbox Vector Tile format\n */\nexport const MVTWorkerLoader: Loader = {\n  name: 'Mapbox Vector Tile',\n  id: 'mvt',\n  module: 'mvt',\n  version: VERSION,\n  // Note: ArcGIS uses '.pbf' extension and 'application/octet-stream'\n  extensions: ['mvt', 'pbf'],\n  mimeTypes: [\n    'application/vnd.mapbox-vector-tile',\n    'application/x-protobuf'\n    // 'application/octet-stream'\n  ],\n  worker: true,\n  category: 'geometry',\n  options: {\n    mvt: {\n      coordinates: 'local',\n      layerProperty: 'layerName',\n      layers: null,\n      tileIndex: null,\n      _format: 'geojson'\n    }\n  }\n};\n\n/**\n * Loader for the Mapbox Vector Tile format\n */\nexport const MVTLoader: LoaderWithParser = {\n  ...MVTWorkerLoader,\n  parse: async (arrayBuffer, options) => parseMVT(arrayBuffer, options),\n  parseSync: parseMVT,\n  binary: true\n};\n","// import {VectorTile} from '@mapbox/vector-tile';\nimport VectorTile from './mapbox-vector-tile/vector-tile';\nimport BinaryVectorTile from './binary-vector-tile/vector-tile';\n\nimport {featuresToBinary} from './binary-vector-tile/features-to-binary';\nimport Protobuf from 'pbf';\n\n/*\n * Parse MVT arrayBuffer and return GeoJSON.\n *\n * @param {arrayBuffer} _ A MVT arrayBuffer\n * @return {?Object} A GeoJSON geometry object or a binary representation\n */\nexport default function parseMVT(arrayBuffer, options) {\n  options = normalizeOptions(options);\n\n  const binary = options.gis.format === 'binary';\n  const features = [];\n  const firstPassData = {\n    pointPositionsCount: 0,\n    pointFeaturesCount: 0,\n    linePositionsCount: 0,\n    linePathsCount: 0,\n    lineFeaturesCount: 0,\n    polygonPositionsCount: 0,\n    polygonObjectsCount: 0,\n    polygonRingsCount: 0,\n    polygonFeaturesCount: 0\n  };\n\n  if (arrayBuffer.byteLength > 0) {\n    const tile = binary\n      ? new BinaryVectorTile(new Protobuf(arrayBuffer))\n      : new VectorTile(new Protobuf(arrayBuffer));\n    const loaderOptions = options.mvt;\n\n    const selectedLayers = Array.isArray(loaderOptions.layers)\n      ? loaderOptions.layers\n      : Object.keys(tile.layers);\n\n    selectedLayers.forEach((layerName) => {\n      const vectorTileLayer = tile.layers[layerName];\n      const featureOptions = {...loaderOptions, layerName};\n\n      if (!vectorTileLayer) {\n        return;\n      }\n\n      for (let i = 0; i < vectorTileLayer.length; i++) {\n        const vectorTileFeature = vectorTileLayer.feature(i, firstPassData);\n\n        const decodedFeature = binary\n          ? getDecodedFeatureBinary(vectorTileFeature, featureOptions)\n          : getDecodedFeature(vectorTileFeature, featureOptions);\n        features.push(decodedFeature);\n      }\n    });\n  }\n\n  if (binary) {\n    const data = featuresToBinary(features, firstPassData);\n    // Add the original byteLength (as a reasonable approximation of the size of the binary data)\n    // TODO decide where to store extra fields like byteLength (header etc) and document\n    // @ts-ignore\n    data.byteLength = arrayBuffer.byteLength;\n    return data;\n  }\n\n  return features;\n}\n\nfunction normalizeOptions(options) {\n  options = {\n    ...options,\n    mvt: options.mvt || {},\n    gis: options.gis || {}\n  };\n\n  // Validate\n  const wgs84Coordinates = options.coordinates === 'wgs84';\n  const {tileIndex} = options;\n  const hasTileIndex =\n    tileIndex &&\n    Number.isFinite(tileIndex.x) &&\n    Number.isFinite(tileIndex.y) &&\n    Number.isFinite(tileIndex.z);\n\n  if (wgs84Coordinates && !hasTileIndex) {\n    throw new Error('MVT Loader: WGS84 coordinates need tileIndex property. Check documentation.');\n  }\n\n  return options;\n}\n\nfunction getDecodedFeature(feature, options = {}) {\n  const decodedFeature = feature.toGeoJSON(\n    options.coordinates === 'wgs84' ? options.tileIndex : transformToLocalCoordinates\n  );\n\n  // Add layer name to GeoJSON properties\n  if (options.layerProperty) {\n    decodedFeature.properties[options.layerProperty] = options.layerName;\n  }\n\n  return decodedFeature;\n}\n\nfunction getDecodedFeatureBinary(feature, options = {}) {\n  const decodedFeature = feature.toBinaryCoordinates(\n    options.coordinates === 'wgs84' ? options.tileIndex : transformToLocalCoordinatesBinary\n  );\n\n  // Add layer name to GeoJSON properties\n  if (options.layerProperty) {\n    decodedFeature.properties[options.layerProperty] = options.layerName;\n  }\n\n  return decodedFeature;\n}\n\nfunction transformToLocalCoordinates(line, feature) {\n  // This function transforms local coordinates in a\n  // [0 - bufferSize, this.extent + bufferSize] range to a\n  // [0 - (bufferSize / this.extent), 1 + (bufferSize / this.extent)] range.\n  // The resulting extent would be 1.\n  const {extent} = feature;\n\n  for (let i = 0; i < line.length; i++) {\n    const p = line[i];\n    p[0] /= extent;\n    p[1] /= extent;\n  }\n}\n\nfunction transformToLocalCoordinatesBinary(data, feature) {\n  // For the binary code path, the feature data is just\n  // one big flat array, so we just divide each value\n  const {extent} = feature;\n  for (let i = 0, il = data.length; i < il; ++i) {\n    data[i] /= extent;\n  }\n}\n","// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n\nimport VectorTileLayer from './vector-tile-layer';\n\nexport default class VectorTile {\n  constructor(pbf, end) {\n    this.layers = pbf.readFields(readTile, {}, end);\n  }\n}\n\nfunction readTile(tag, layers, pbf) {\n  if (tag === 3) {\n    const layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n    if (layer.length) {\n      layers[layer.name] = layer;\n    }\n  }\n}\n","// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n\nimport VectorTileFeature from './vector-tile-feature.js';\n\nexport default class VectorTileLayer {\n  constructor(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n  }\n\n  // return feature `i` from this layer as a `VectorTileFeature`\n  feature(i) {\n    if (i < 0 || i >= this._features.length) {\n      throw new Error('feature index out of bounds');\n    }\n\n    this._pbf.pos = this._features[i];\n\n    const end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n  }\n}\n\nfunction readLayer(tag, layer, pbf) {\n  if (tag === 15) layer.version = pbf.readVarint();\n  else if (tag === 1) layer.name = pbf.readString();\n  else if (tag === 5) layer.extent = pbf.readVarint();\n  else if (tag === 2) layer._features.push(pbf.pos);\n  else if (tag === 3) layer._keys.push(pbf.readString());\n  else if (tag === 4) layer._values.push(readValueMessage(pbf));\n}\n\nfunction readValueMessage(pbf) {\n  let value = null;\n  const end = pbf.readVarint() + pbf.pos;\n\n  while (pbf.pos < end) {\n    const tag = pbf.readVarint() >> 3;\n\n    value =\n      tag === 1\n        ? pbf.readString()\n        : tag === 2\n        ? pbf.readFloat()\n        : tag === 3\n        ? pbf.readDouble()\n        : tag === 4\n        ? pbf.readVarint64()\n        : tag === 5\n        ? pbf.readVarint()\n        : tag === 6\n        ? pbf.readSVarint()\n        : tag === 7\n        ? pbf.readBoolean()\n        : null;\n  }\n\n  return value;\n}\n","// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n/* eslint-disable */\n\nexport default class VectorTileFeature {\n  static get types() {\n    return ['Unknown', 'Point', 'LineString', 'Polygon'];\n  }\n\n  constructor(pbf, end, extent, keys, values) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n    this.id = null;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n\n    pbf.readFields(readFeature, this, end);\n  }\n\n  // eslint-disable-next-line complexity, max-statements\n  loadGeometry() {\n    const pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    const end = pbf.readVarint() + pbf.pos;\n    let cmd = 1;\n    let length = 0;\n    let x = 0;\n    let y = 0;\n    const lines = [];\n    let line;\n\n    while (pbf.pos < end) {\n      if (length <= 0) {\n        const cmdLen = pbf.readVarint();\n        cmd = cmdLen & 0x7;\n        length = cmdLen >> 3;\n      }\n\n      length--;\n\n      if (cmd === 1 || cmd === 2) {\n        x += pbf.readSVarint();\n        y += pbf.readSVarint();\n\n        if (cmd === 1) {\n          // moveTo\n          if (line) lines.push(line);\n          line = [];\n        }\n        // @ts-ignore\n        line.push([x, y]);\n      } else if (cmd === 7) {\n        // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n        if (line) {\n          line.push(line[0].slice()); // closePolygon\n        }\n      } else {\n        throw new Error(`unknown command ${cmd}`);\n      }\n    }\n\n    if (line) lines.push(line);\n\n    return lines;\n  }\n\n  // eslint-disable-next-line max-statements\n  bbox() {\n    const pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    const end = pbf.readVarint() + pbf.pos;\n    let cmd = 1;\n    let length = 0;\n    let x = 0;\n    let y = 0;\n    let x1 = Infinity;\n    let x2 = -Infinity;\n    let y1 = Infinity;\n    let y2 = -Infinity;\n\n    while (pbf.pos < end) {\n      if (length <= 0) {\n        const cmdLen = pbf.readVarint();\n        cmd = cmdLen & 0x7;\n        length = cmdLen >> 3;\n      }\n\n      length--;\n\n      if (cmd === 1 || cmd === 2) {\n        x += pbf.readSVarint();\n        y += pbf.readSVarint();\n        if (x < x1) x1 = x;\n        if (x > x2) x2 = x;\n        if (y < y1) y1 = y;\n        if (y > y2) y2 = y;\n      } else if (cmd !== 7) {\n        throw new Error(`unknown command ${cmd}`);\n      }\n    }\n\n    return [x1, y1, x2, y2];\n  }\n\n  _toGeoJSON(transform) {\n    let coords = this.loadGeometry();\n    let type = VectorTileFeature.types[this.type];\n    let i;\n    let j;\n\n    switch (this.type) {\n      case 1:\n        var points = [];\n        for (i = 0; i < coords.length; i++) {\n          points[i] = coords[i][0];\n        }\n        coords = points;\n        transform(coords, this);\n        break;\n\n      case 2:\n        for (i = 0; i < coords.length; i++) {\n          transform(coords[i], this);\n        }\n        break;\n\n      case 3:\n        coords = classifyRings(coords);\n        for (i = 0; i < coords.length; i++) {\n          for (j = 0; j < coords[i].length; j++) {\n            transform(coords[i][j], this);\n          }\n        }\n        break;\n    }\n\n    if (coords.length === 1) {\n      coords = coords[0];\n    } else {\n      type = `Multi${type}`;\n    }\n\n    const result = {\n      type: 'Feature',\n      geometry: {\n        type,\n        coordinates: coords\n      },\n      properties: this.properties\n    };\n\n    if (this.id !== null) {\n      result.id = this.id;\n    }\n\n    return result;\n  }\n\n  toGeoJSON(options) {\n    if (typeof options === 'function') {\n      return this._toGeoJSON(options);\n    }\n    const {x, y, z} = options;\n    const size = this.extent * Math.pow(2, z);\n    const x0 = this.extent * x;\n    const y0 = this.extent * y;\n\n    function project(line) {\n      for (let j = 0; j < line.length; j++) {\n        const p = line[j];\n        p[0] = ((p[0] + x0) * 360) / size - 180;\n        const y2 = 180 - ((p[1] + y0) * 360) / size;\n        p[1] = (360 / Math.PI) * Math.atan(Math.exp((y2 * Math.PI) / 180)) - 90;\n      }\n    }\n    return this._toGeoJSON(project);\n  }\n}\n\n/**\n * Classifies an array of rings into polygons with outer rings and holes\n */\n\nfunction classifyRings(rings) {\n  const len = rings.length;\n\n  if (len <= 1) return [rings];\n\n  const polygons = [];\n  let polygon;\n  let ccw;\n\n  for (let i = 0; i < len; i++) {\n    const area = signedArea(rings[i]);\n    if (area === 0) continue;\n\n    if (ccw === undefined) ccw = area < 0;\n\n    if (ccw === area < 0) {\n      if (polygon) polygons.push(polygon);\n      polygon = [rings[i]];\n    } else {\n      // @ts-ignore\n      polygon.push(rings[i]);\n    }\n  }\n  if (polygon) polygons.push(polygon);\n\n  return polygons;\n}\n\nfunction signedArea(ring) {\n  let sum = 0;\n  for (let i = 0, j = ring.length - 1, p1, p2; i < ring.length; j = i++) {\n    p1 = ring[i];\n    p2 = ring[j];\n    sum += (p2[0] - p1[0]) * (p1[1] + p2[1]);\n  }\n  return sum;\n}\n\nfunction readFeature(tag, feature, pbf) {\n  if (tag === 1) feature.id = pbf.readVarint();\n  else if (tag === 2) readTag(pbf, feature);\n  else if (tag === 3) feature.type = pbf.readVarint();\n  else if (tag === 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n  const end = pbf.readVarint() + pbf.pos;\n\n  while (pbf.pos < end) {\n    const key = feature._keys[pbf.readVarint()];\n    const value = feature._values[pbf.readVarint()];\n    feature.properties[key] = value;\n  }\n}\n","// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n\nimport VectorTileLayer from './vector-tile-layer';\n\nexport default class VectorTile {\n  constructor(pbf, end) {\n    this.layers = pbf.readFields(readTile, {}, end);\n  }\n}\n\nfunction readTile(tag, layers, pbf) {\n  if (tag === 3) {\n    const layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n    if (layer.length) {\n      layers[layer.name] = layer;\n    }\n  }\n}\n","// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n\nimport VectorTileFeature from './vector-tile-feature.js';\n\nexport default class VectorTileLayer {\n  constructor(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n  }\n\n  // return feature `i` from this layer as a `VectorTileFeature`\n  feature(i, firstPassData) {\n    if (i < 0 || i >= this._features.length) {\n      throw new Error('feature index out of bounds');\n    }\n\n    this._pbf.pos = this._features[i];\n\n    const end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(\n      this._pbf,\n      end,\n      this.extent,\n      this._keys,\n      this._values,\n      firstPassData\n    );\n  }\n}\n\nfunction readLayer(tag, layer, pbf) {\n  if (tag === 15) layer.version = pbf.readVarint();\n  else if (tag === 1) layer.name = pbf.readString();\n  else if (tag === 5) layer.extent = pbf.readVarint();\n  else if (tag === 2) layer._features.push(pbf.pos);\n  else if (tag === 3) layer._keys.push(pbf.readString());\n  else if (tag === 4) layer._values.push(readValueMessage(pbf));\n}\n\nfunction readValueMessage(pbf) {\n  let value = null;\n  const end = pbf.readVarint() + pbf.pos;\n\n  while (pbf.pos < end) {\n    const tag = pbf.readVarint() >> 3;\n\n    value =\n      tag === 1\n        ? pbf.readString()\n        : tag === 2\n        ? pbf.readFloat()\n        : tag === 3\n        ? pbf.readDouble()\n        : tag === 4\n        ? pbf.readVarint64()\n        : tag === 5\n        ? pbf.readVarint()\n        : tag === 6\n        ? pbf.readSVarint()\n        : tag === 7\n        ? pbf.readBoolean()\n        : null;\n  }\n\n  return value;\n}\n","// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n/* eslint-disable */\n\nimport {getPolygonSignedArea} from '@math.gl/polygon';\n\n// Reduce GC by reusing variables\nlet endPos, cmd, cmdLen, length, x, y, i;\n\nexport const TEST_EXPORTS = {\n  classifyRings\n};\n\nexport default class VectorTileFeature {\n  static get types() {\n    return ['Unknown', 'Point', 'LineString', 'Polygon'];\n  }\n\n  constructor(pbf, end, extent, keys, values, firstPassData) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n    this.id = null;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n    this._firstPassData = firstPassData;\n\n    pbf.readFields(readFeature, this, end);\n  }\n\n  // eslint-disable-next-line complexity, max-statements\n  loadGeometry() {\n    const pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    endPos = pbf.readVarint() + pbf.pos;\n    cmd = 1;\n    length = 0;\n    x = 0;\n    y = 0;\n    i = 0;\n\n    // Note: I attempted to replace the `data` array with a\n    // Float32Array, but performance was worse, both using\n    // `set()` and direct index access. Also, we cannot\n    // know how large the buffer should be, so it would\n    // increase memory usage\n    const lines = []; // Indices where lines start\n    const data = []; // Flat array of coordinate data\n\n    while (pbf.pos < endPos) {\n      if (length <= 0) {\n        cmdLen = pbf.readVarint();\n        cmd = cmdLen & 0x7;\n        length = cmdLen >> 3;\n      }\n\n      length--;\n\n      if (cmd === 1 || cmd === 2) {\n        x += pbf.readSVarint();\n        y += pbf.readSVarint();\n\n        if (cmd === 1) {\n          // New line\n          lines.push(i);\n        }\n        data.push(x, y);\n        i += 2;\n      } else if (cmd === 7) {\n        // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n        if (i > 0) {\n          const start = lines[lines.length - 1]; // start index of polygon\n          data.push(data[start], data[start + 1]); // closePolygon\n          i += 2;\n        }\n      } else {\n        throw new Error(`unknown command ${cmd}`);\n      }\n    }\n\n    return {data, lines};\n  }\n\n  _toBinaryCoordinates(transform) {\n    // Expands the protobuf data to an intermediate `lines`\n    // data format, which maps closely to the binary data buffers.\n    // It is similar to GeoJSON, but rather than storing the coordinates\n    // in multidimensional arrays, we have a 1D `data` with all the\n    // coordinates, and then index into this using the `lines`\n    // parameter, e.g.\n    //\n    // geometry: {\n    //   type: 'Point', data: [1,2], lines: [0]\n    // }\n    // geometry: {\n    //   type: 'LineString', data: [1,2,3,4,...], lines: [0]\n    // }\n    // geometry: {\n    //   type: 'Polygon', data: [1,2,3,4,...], lines: [[0, 2]]\n    // }\n    // Thus the lines member lets us look up the relevant range\n    // from the data array.\n    // The Multi* versions of the above types share the same data\n    // structure, just with multiple elements in the lines array\n    let geom = this.loadGeometry();\n\n    // Apply the supplied transformation to data\n    transform(geom.data, this);\n\n    const coordLength = 2;\n\n    switch (this.type) {\n      case 1: // Point\n        this._firstPassData.pointFeaturesCount++;\n        this._firstPassData.pointPositionsCount += geom.lines.length;\n        break;\n\n      case 2: // LineString\n        this._firstPassData.lineFeaturesCount++;\n        this._firstPassData.linePathsCount += geom.lines.length;\n        this._firstPassData.linePositionsCount += geom.data.length / coordLength;\n        break;\n\n      case 3: // Polygon\n        const classified = classifyRings(geom);\n\n        // Unlike Point & LineString geom.lines is a 2D array, thanks\n        // to the classifyRings method\n        this._firstPassData.polygonFeaturesCount++;\n        this._firstPassData.polygonObjectsCount += classified.lines.length;\n\n        for (const lines of classified.lines) {\n          this._firstPassData.polygonRingsCount += lines.length;\n        }\n        this._firstPassData.polygonPositionsCount += classified.data.length / coordLength;\n\n        // @ts-ignore\n        geom = classified;\n        break;\n    }\n\n    geom.type = VectorTileFeature.types[this.type];\n    if (geom.lines.length > 1) {\n      geom.type = `Multi${geom.type}`;\n    }\n\n    const result = {\n      type: 'Feature',\n      geometry: geom,\n      properties: this.properties\n    };\n\n    if (this.id !== null) {\n      result.id = this.id;\n    }\n\n    return result;\n  }\n\n  toBinaryCoordinates(options) {\n    if (typeof options === 'function') {\n      return this._toBinaryCoordinates(options);\n    }\n    const {x, y, z} = options;\n    const size = this.extent * Math.pow(2, z);\n    const x0 = this.extent * x;\n    const y0 = this.extent * y;\n\n    function project(data) {\n      for (let j = 0, jl = data.length; j < jl; j += 2) {\n        data[j] = ((data[j] + x0) * 360) / size - 180;\n        const y2 = 180 - ((data[j + 1] + y0) * 360) / size;\n        data[j + 1] = (360 / Math.PI) * Math.atan(Math.exp((y2 * Math.PI) / 180)) - 90;\n      }\n    }\n    return this._toBinaryCoordinates(project);\n  }\n}\n\n/**\n * Classifies an array of rings into polygons with outer rings and holes\n * The function also detects holes which have zero area and\n * removes them. In doing so it modifies the input\n * `geom.data` array to remove the unneeded data\n */\nfunction classifyRings(geom) {\n  const len = geom.lines.length;\n\n  if (len <= 1) {\n    return {\n      data: geom.data,\n      areas: [[getPolygonSignedArea(geom.data)]],\n      lines: [geom.lines]\n    };\n  }\n\n  const areas = [];\n  const polygons = [];\n  let ringAreas;\n  let polygon;\n  let ccw;\n  let offset = 0;\n\n  for (let i = 0, startIndex, endIndex; i < len; i++) {\n    startIndex = geom.lines[i] - offset;\n\n    endIndex = geom.lines[i + 1] - offset || geom.data.length;\n    const shape = geom.data.slice(startIndex, endIndex);\n    const area = getPolygonSignedArea(shape);\n\n    if (area === 0) {\n      // This polygon has no area, so remove it from the shape\n      // Remove the section from the data array\n      const before = geom.data.slice(0, startIndex);\n      const after = geom.data.slice(endIndex);\n      geom.data = before.concat(after);\n\n      // Need to offset any remaining indices as we have\n      // modified the data buffer\n      offset += endIndex - startIndex;\n\n      // Do not add this index to the output and process next shape\n      continue;\n    }\n\n    if (ccw === undefined) ccw = area < 0;\n\n    if (ccw === area < 0) {\n      if (polygon) {\n        areas.push(ringAreas);\n        polygons.push(polygon);\n      }\n      polygon = [startIndex];\n      ringAreas = [area];\n    } else {\n      // @ts-ignore\n      ringAreas.push(area);\n      // @ts-ignore\n      polygon.push(startIndex);\n    }\n  }\n  if (ringAreas) areas.push(ringAreas);\n  if (polygon) polygons.push(polygon);\n\n  return {areas, lines: polygons, data: geom.data};\n}\n\n// All code below is unchanged from the original Mapbox implemenation\n\nfunction readFeature(tag, feature, pbf) {\n  if (tag === 1) feature.id = pbf.readVarint();\n  else if (tag === 2) readTag(pbf, feature);\n  else if (tag === 3) feature.type = pbf.readVarint();\n  else if (tag === 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n  const end = pbf.readVarint() + pbf.pos;\n\n  while (pbf.pos < end) {\n    const key = feature._keys[pbf.readVarint()];\n    const value = feature._values[pbf.readVarint()];\n    feature.properties[key] = value;\n  }\n}\n","// @ts-nocheck\nimport {earcut} from '@math.gl/polygon';\n\n/**\n * Convert binary features to flat binary arrays. Similar to\n * `geojsonToBinary` helper function, except that it expects\n * a binary representation of the feature data, which enables\n * 2X-3X speed increase in parse speed, compared to using\n * geoJSON. See `binary-vector-tile/VectorTileFeature` for\n * data format detais\n */\nexport function featuresToBinary(features, firstPassData, options = {}) {\n  return fillArrays(features, firstPassData, {\n    numericPropKeys: options.numericPropKeys || extractNumericPropKeys(features),\n    PositionDataType: options.PositionDataType || Float32Array\n  });\n}\n\nexport const TEST_EXPORTS = {\n  extractNumericPropKeys,\n  fillArrays\n};\n\n// Extracts properties that are always numeric\n// eslint-disable-next-line complexity, max-statements\nfunction extractNumericPropKeys(features) {\n  const numericPropKeys = {};\n  for (const feature of features) {\n    if (feature.properties) {\n      for (const key in feature.properties) {\n        // If property has not been seen before, or if property has been numeric\n        // in all previous features, check if numeric in this feature\n        // If not numeric, false is stored to prevent rechecking in the future\n        const numericSoFar = numericPropKeys[key];\n        // eslint-disable-next-line max-depth\n        if (numericSoFar || numericSoFar === undefined) {\n          const val = feature.properties[key];\n          numericPropKeys[key] = isNumeric(val);\n        }\n      }\n    }\n  }\n\n  return Object.keys(numericPropKeys).filter((k) => numericPropKeys[k]);\n}\n\n// Fills coordinates into pre-allocated typed arrays\n// eslint-disable-next-line complexity\nfunction fillArrays(features, firstPassData = {}, options = {}) {\n  const {\n    pointPositionsCount,\n    pointFeaturesCount,\n    linePositionsCount,\n    linePathsCount,\n    lineFeaturesCount,\n    polygonPositionsCount,\n    polygonObjectsCount,\n    polygonRingsCount,\n    polygonFeaturesCount\n  } = firstPassData;\n  const {numericPropKeys, PositionDataType = Float32Array} = options;\n  const coordLength = 2;\n  const GlobalFeatureIdsDataType = features.length > 65535 ? Uint32Array : Uint16Array;\n  const points = {\n    positions: new PositionDataType(pointPositionsCount * coordLength),\n    globalFeatureIds: new GlobalFeatureIdsDataType(pointPositionsCount),\n    featureIds:\n      pointFeaturesCount > 65535\n        ? new Uint32Array(pointPositionsCount)\n        : new Uint16Array(pointPositionsCount),\n    numericProps: {},\n    properties: []\n  };\n  const lines = {\n    pathIndices:\n      linePositionsCount > 65535\n        ? new Uint32Array(linePathsCount + 1)\n        : new Uint16Array(linePathsCount + 1),\n    positions: new PositionDataType(linePositionsCount * coordLength),\n    globalFeatureIds: new GlobalFeatureIdsDataType(linePositionsCount),\n    featureIds:\n      lineFeaturesCount > 65535\n        ? new Uint32Array(linePositionsCount)\n        : new Uint16Array(linePositionsCount),\n    numericProps: {},\n    properties: []\n  };\n  const polygons = {\n    polygonIndices:\n      polygonPositionsCount > 65535\n        ? new Uint32Array(polygonObjectsCount + 1)\n        : new Uint16Array(polygonObjectsCount + 1),\n    primitivePolygonIndices:\n      polygonPositionsCount > 65535\n        ? new Uint32Array(polygonRingsCount + 1)\n        : new Uint16Array(polygonRingsCount + 1),\n    positions: new PositionDataType(polygonPositionsCount * coordLength),\n    triangles: [],\n    globalFeatureIds: new GlobalFeatureIdsDataType(polygonPositionsCount),\n    featureIds:\n      polygonFeaturesCount > 65535\n        ? new Uint32Array(polygonPositionsCount)\n        : new Uint16Array(polygonPositionsCount),\n    numericProps: {},\n    properties: []\n  };\n\n  // Instantiate numeric properties arrays; one value per vertex\n  for (const object of [points, lines, polygons]) {\n    for (const propName of numericPropKeys) {\n      // If property has been numeric in all previous features in which the property existed, check\n      // if numeric in this feature\n      object.numericProps[propName] = new Float32Array(object.positions.length / coordLength);\n    }\n  }\n\n  // Set last element of path/polygon indices as positions length\n  lines.pathIndices[linePathsCount] = linePositionsCount;\n  polygons.polygonIndices[polygonObjectsCount] = polygonPositionsCount;\n  polygons.primitivePolygonIndices[polygonRingsCount] = polygonPositionsCount;\n\n  const indexMap = {\n    pointPosition: 0,\n    pointFeature: 0,\n    linePosition: 0,\n    linePath: 0,\n    lineFeature: 0,\n    polygonPosition: 0,\n    polygonObject: 0,\n    polygonRing: 0,\n    polygonFeature: 0,\n    feature: 0\n  };\n\n  for (const feature of features) {\n    const geometry = feature.geometry;\n    const properties = feature.properties || {};\n\n    switch (geometry.type) {\n      case 'Point':\n      case 'MultiPoint':\n        handlePoint(geometry, points, indexMap, coordLength, properties);\n        points.properties.push(keepStringProperties(properties, numericPropKeys));\n        indexMap.pointFeature++;\n        break;\n      case 'LineString':\n      case 'MultiLineString':\n        handleLineString(geometry, lines, indexMap, coordLength, properties);\n        lines.properties.push(keepStringProperties(properties, numericPropKeys));\n        indexMap.lineFeature++;\n        break;\n      case 'Polygon':\n      case 'MultiPolygon':\n        handlePolygon(geometry, polygons, indexMap, coordLength, properties);\n        polygons.properties.push(keepStringProperties(properties, numericPropKeys));\n        indexMap.polygonFeature++;\n        break;\n      default:\n        throw new Error('Invalid geometry type');\n    }\n\n    indexMap.feature++;\n  }\n\n  // Wrap each array in an accessor object with value and size keys\n  return makeAccessorObjects(points, lines, polygons, coordLength);\n}\n\n// Fills (Multi)Point coordinates into points object of arrays\nfunction handlePoint(geometry, points, indexMap, coordLength, properties) {\n  points.positions.set(geometry.data, indexMap.pointPosition * coordLength);\n\n  const nPositions = geometry.data.length / coordLength;\n  fillNumericProperties(points, properties, indexMap.pointPosition, nPositions);\n  points.globalFeatureIds.fill(\n    indexMap.feature,\n    indexMap.pointPosition,\n    indexMap.pointPosition + nPositions\n  );\n  points.featureIds.fill(\n    indexMap.pointFeature,\n    indexMap.pointPosition,\n    indexMap.pointPosition + nPositions\n  );\n\n  indexMap.pointPosition += nPositions;\n}\n\n// Fills (Multi)LineString coordinates into lines object of arrays\nfunction handleLineString(geometry, lines, indexMap, coordLength, properties) {\n  lines.positions.set(geometry.data, indexMap.linePosition * coordLength);\n\n  const nPositions = geometry.data.length / coordLength;\n  fillNumericProperties(lines, properties, indexMap.linePosition, nPositions);\n\n  lines.globalFeatureIds.fill(\n    indexMap.feature,\n    indexMap.linePosition,\n    indexMap.linePosition + nPositions\n  );\n  lines.featureIds.fill(\n    indexMap.lineFeature,\n    indexMap.linePosition,\n    indexMap.linePosition + nPositions\n  );\n\n  for (let i = 0, il = geometry.lines.length; i < il; ++i) {\n    // Extract range of data we are working with, defined by start\n    // and end indices (these index into the geometry.data array)\n    const start = geometry.lines[i];\n    const end =\n      i === il - 1\n        ? geometry.data.length // last line, so read to end of data\n        : geometry.lines[i + 1]; // start index for next line\n\n    lines.pathIndices[indexMap.linePath++] = indexMap.linePosition;\n    indexMap.linePosition += (end - start) / coordLength;\n  }\n}\n\n// Fills (Multi)Polygon coordinates into polygons object of arrays\nfunction handlePolygon(geometry, polygons, indexMap, coordLength, properties) {\n  polygons.positions.set(geometry.data, indexMap.polygonPosition * coordLength);\n\n  const nPositions = geometry.data.length / coordLength;\n  fillNumericProperties(polygons, properties, indexMap.polygonPosition, nPositions);\n  polygons.globalFeatureIds.fill(\n    indexMap.feature,\n    indexMap.polygonPosition,\n    indexMap.polygonPosition + nPositions\n  );\n  polygons.featureIds.fill(\n    indexMap.polygonFeature,\n    indexMap.polygonPosition,\n    indexMap.polygonPosition + nPositions\n  );\n\n  // Unlike Point & LineString geometry.lines is a 2D array\n  for (let l = 0, ll = geometry.lines.length; l < ll; ++l) {\n    const startPosition = indexMap.polygonPosition;\n    polygons.polygonIndices[indexMap.polygonObject++] = startPosition;\n\n    const areas = geometry.areas[l];\n    const lines = geometry.lines[l];\n    const nextLines = geometry.lines[l + 1];\n\n    for (let i = 0, il = lines.length; i < il; ++i) {\n      const start = lines[i];\n      const end =\n        i === il - 1\n          ? // last line, so either read to:\n            nextLines === undefined\n            ? geometry.data.length // end of data (no next lines)\n            : nextLines[0] // start of first line in nextLines\n          : lines[i + 1]; // start index for next line\n\n      polygons.primitivePolygonIndices[indexMap.polygonRing++] = indexMap.polygonPosition;\n      indexMap.polygonPosition += (end - start) / coordLength;\n    }\n\n    const endPosition = indexMap.polygonPosition;\n    triangulatePolygon(polygons, areas, lines, {startPosition, endPosition, coordLength});\n  }\n}\n\n/**\n * Triangulate polygon using earcut\n */\nfunction triangulatePolygon(polygons, areas, lines, {startPosition, endPosition, coordLength}) {\n  const start = startPosition * coordLength;\n  const end = endPosition * coordLength;\n\n  // Extract positions and holes for just this polygon\n  const polygonPositions = polygons.positions.subarray(start, end);\n\n  // Holes are referenced relative to outer polygon\n  const offset = lines[0];\n  const holes = lines.slice(1).map((n) => (n - offset) / coordLength);\n\n  // Compute triangulation\n  const indices = earcut(polygonPositions, holes, coordLength, areas);\n\n  // Indices returned by triangulation are relative to start\n  // of polygon, so we need to offset\n  for (let t = 0, tl = indices.length; t < tl; ++t) {\n    polygons.triangles.push(startPosition + indices[t]);\n  }\n}\n\n// Wrap each array in an accessor object with value and size keys\nfunction makeAccessorObjects(points, lines, polygons, coordLength) {\n  const returnObj = {\n    points: {\n      positions: {value: points.positions, size: coordLength},\n      globalFeatureIds: {value: points.globalFeatureIds, size: 1},\n      featureIds: {value: points.featureIds, size: 1},\n      numericProps: points.numericProps,\n      properties: points.properties\n    },\n    lines: {\n      pathIndices: {value: lines.pathIndices, size: 1},\n      positions: {value: lines.positions, size: coordLength},\n      globalFeatureIds: {value: lines.globalFeatureIds, size: 1},\n      featureIds: {value: lines.featureIds, size: 1},\n      numericProps: lines.numericProps,\n      properties: lines.properties\n    },\n    polygons: {\n      polygonIndices: {value: polygons.polygonIndices, size: 1},\n      primitivePolygonIndices: {value: polygons.primitivePolygonIndices, size: 1},\n      positions: {value: polygons.positions, size: coordLength},\n      triangles: {value: new Uint32Array(polygons.triangles), size: 1},\n      globalFeatureIds: {value: polygons.globalFeatureIds, size: 1},\n      featureIds: {value: polygons.featureIds, size: 1},\n      numericProps: polygons.numericProps,\n      properties: polygons.properties\n    }\n  };\n\n  for (const geomType in returnObj) {\n    for (const numericProp in returnObj[geomType].numericProps) {\n      returnObj[geomType].numericProps[numericProp] = {\n        value: returnObj[geomType].numericProps[numericProp],\n        size: 1\n      };\n    }\n  }\n  return returnObj;\n}\n\n// Add numeric properties to object\nfunction fillNumericProperties(object, properties, index, length) {\n  for (const numericPropName in object.numericProps) {\n    if (numericPropName in properties) {\n      object.numericProps[numericPropName].fill(properties[numericPropName], index, index + length);\n    }\n  }\n}\n\n// Keep string properties in object\nfunction keepStringProperties(properties, numericKeys) {\n  const props = {};\n  for (const key in properties) {\n    if (!numericKeys.includes(key)) {\n      props[key] = properties[key];\n    }\n  }\n  return props;\n}\n\nfunction isNumeric(x) {\n  return Number.isFinite(x);\n}\n","'use strict';\n\nmodule.exports = Pbf;\n\nvar ieee754 = require('ieee754');\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) this.skip(val);\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) return val;\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readVarint(isSigned));\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSVarint());\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readBoolean());\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFloat());\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readDouble());\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed32());\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed32());\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed64());\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed64());\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) while (this.buf[this.pos++] > 0x7f) {}\n        else if (type === Pbf.Bytes) this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32) this.pos += 4;\n        else if (type === Pbf.Fixed64) this.pos += 8;\n        else throw new Error('Unimplemented type: ' + type);\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) length *= 2;\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) this.buf[this.pos++] = buffer[i];\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedVarint, arr);   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSVarint, arr);  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedBoolean, arr);  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFloat, arr);    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedDouble, arr);   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed32, arr);  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed32, arr); },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed64, arr);  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed64, arr); },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) return toNum(l, h, s);\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) pbf.buf[i + extraLen] = pbf.buf[i];\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeVarint(arr[i]);   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeSVarint(arr[i]);  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) pbf.writeFloat(arr[i]);    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeDouble(arr[i]);   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeBoolean(arr[i]);  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed32(arr[i]);  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed32(arr[i]); }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed64(arr[i]);  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed64(arr[i]); }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) break;\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n"],"sourceRoot":""}