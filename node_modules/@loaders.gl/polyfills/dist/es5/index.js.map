{"version":3,"sources":["../../src/index.js"],"names":["installTextEncoder","TextEncoder","isBrowser","global","installTextDecoder","TextDecoder","base64","atob","btoa","HeadersNode","ResponseNode","fetchNode","encodeImageNode","parseImageNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAMA,IAAMA,kBAAkB,GAAGC,0BAAgB,CAACC,kBAAD,IAAc,EAAE,iBAAiBC,eAAnB,CAA9B,CAA3B;;AACA,IAAIH,kBAAJ,EAAwB;AACtBG,kBAAO,aAAP,IAAwBF,qBAAxB;AACD;;AAED,IAAMG,kBAAkB,GAAGH,0BAAgB,CAACC,kBAAD,IAAc,EAAE,iBAAiBC,eAAnB,CAA9B,CAA3B;;AACA,IAAIC,kBAAJ,EAAwB;AACtBD,kBAAO,aAAP,IAAwBE,qBAAxB;AACD;;AAMD,IAAI,CAACH,kBAAD,IAAc,EAAE,UAAUC,eAAZ,CAAd,IAAqCG,MAAM,CAACC,IAAhD,EAAsD;AACpDJ,kBAAO,MAAP,IAAiBG,MAAM,CAACC,IAAxB;AACD;;AACD,IAAI,CAACL,kBAAD,IAAc,EAAE,UAAUC,eAAZ,CAAd,IAAqCG,MAAM,CAACE,IAAhD,EAAsD;AACpDL,kBAAO,MAAP,IAAiBG,MAAM,CAACE,IAAxB;AACD;;AAMD,IAAI,CAACN,kBAAD,IAAc,EAAE,aAAaC,eAAf,CAAd,IAAwCM,mBAA5C,EAAyD;AACvDN,kBAAO,SAAP,IAAoBM,mBAApB;AACD;;AAED,IAAI,CAACP,kBAAD,IAAc,EAAE,cAAcC,eAAhB,CAAd,IAAyCO,oBAA7C,EAA2D;AACzDP,kBAAO,UAAP,IAAqBO,oBAArB;AACD;;AAED,IAAI,CAACR,kBAAD,IAAc,EAAE,WAAWC,eAAb,CAAd,IAAsCQ,iBAA1C,EAAqD;AACnDR,kBAAO,OAAP,IAAkBQ,iBAAlB;AACD;;AAMD,IAAI,CAACT,kBAAD,IAAc,EAAE,sBAAsBC,eAAxB,CAAd,IAAiDS,4BAArD,EAAsE;AACpET,kBAAO,kBAAP,IAA6BS,4BAA7B;AACD;;AAED,IAAI,CAACV,kBAAD,IAAc,EAAE,qBAAqBC,eAAvB,CAAd,IAAgDU,0BAApD,EAAoE;AAClEV,kBAAO,iBAAP,IAA4BU,0BAA5B;AACD","sourcesContent":["/* eslint-disable dot-notation */\nimport {isBrowser, global} from './utils/globals';\n\nimport {TextDecoder, TextEncoder} from './libs/encoding';\nimport * as base64 from './text-encoding/btoa.node';\n\nimport HeadersNode from './fetch-node/headers.node';\nimport ResponseNode from './fetch-node/response.node';\nimport fetchNode from './fetch-node/fetch.node';\n\nimport {encodeImageNode} from './images-node/encode-image.node';\nimport {parseImageNode} from './images-node/parse-image.node';\n\nexport {ReadableStreamPolyfill} from './file/readable-stream-polyfill';\nexport {BlobPolyfill} from './file/blob-polyfill';\nexport {FileReaderPolyfill} from './file/file-reader-polyfill';\nexport {FilePolyfill} from './file/file-polyfill';\nexport {installFilePolyfills} from './file/polyfills';\n\n// POLYFILLS: TextEncoder, TextDecoder\n// - Recent Node versions habe these classes but virtually no encodings unless special build.\n// - Browser: Edge, IE11 do not have these\n\nconst installTextEncoder = TextEncoder && (!isBrowser || !('TextEncoder' in global));\nif (installTextEncoder) {\n  global['TextEncoder'] = TextEncoder;\n}\n\nconst installTextDecoder = TextEncoder && (!isBrowser || !('TextDecoder' in global));\nif (installTextDecoder) {\n  global['TextDecoder'] = TextDecoder;\n}\n\n// POLYFILLS: btoa, atob\n// - Node: Yes\n// - Browser: No\n\nif (!isBrowser && !('atob' in global) && base64.atob) {\n  global['atob'] = base64.atob;\n}\nif (!isBrowser && !('btoa' in global) && base64.btoa) {\n  global['btoa'] = base64.btoa;\n}\n\n// POLYFILL: fetch\n// - Node: Yes\n// - Browser: No. For This polyfill is node only, IE11 etc, install external polyfill\n\nif (!isBrowser && !('Headers' in global) && HeadersNode) {\n  global['Headers'] = HeadersNode;\n}\n\nif (!isBrowser && !('Response' in global) && ResponseNode) {\n  global['Response'] = ResponseNode;\n}\n\nif (!isBrowser && !('fetch' in global) && fetchNode) {\n  global['fetch'] = fetchNode;\n}\n\n// NODE IMAGE FUNCTIONS:\n// These are not official polyfills but used by the @loaders.gl/images module if installed\n// TODO - is there an appropriate Image API we could polyfill using an adapter?\n\nif (!isBrowser && !('_encodeImageNode' in global) && encodeImageNode) {\n  global['_encodeImageNode'] = encodeImageNode;\n}\n\nif (!isBrowser && !('_parseImageNode' in global) && parseImageNode) {\n  global['_parseImageNode'] = parseImageNode;\n}\n"],"file":"index.js"}